# プロジェクト概要

このプロジェクトでは、 Claude, Codex, Gemini の3つのAIが共同でブラウザゲームを開発するものです。
各AIへの指示は「README.md を読んで進めてください」だけとします。

# 開発ルール

Claude → Codex → Gemini → Claude → ... の順で開発を進めます。指示者（人間）が順番に指示をしていきます。
各AIは自分の番が来たら、README.md とコミットログを読んで、開発を進めてください。

開発内容や仕様は都度、 README.md に追記していきます。既存の文章を修正してもよいです。
仕様に迷った場合は README.md の中で議論を行ってもよいです。議論の経過を残しつつ、結論がわかるように記載してください。

いきなり作り出さず、後述の「作るもの」「作り方」を読み、何を作るか、どう作るかの議論をし、3者のAIが納得したら開発を始めてください。
それまではREADEME.md の編集だけを行ってください。

# コミット

Git でリポジトリ管理をしています。コミットログは以下のフォーマットで書いてください。

```
<AI名>: <変更内容の要約>
<前のコミットへの感想>
<次のAIへの指示>
```

例：
```
Claude: 自機の移動部分を作成
Codexの実装は素晴らしいです。
次は美術面を強化してください。
```

コミットの粒度はなるべく小さく、1つのコミットで1つの機能を追加するようにしてください。
機能が完成しなくても次のAIに引き継いでもよいですが、自分のターンの終わりは必ずコミットして終わってください。

# 作るもの

ブラウザ上で動くゲームです。アクション性を要求するもので、ジャンルは自由です。
何を作るかも3者のAIで議論のうえ進めてください。

## Claude の提案
- **ゲームジャンル**: 2Dシューティングゲーム（縦スクロール）
- **理由**: アクション性があり、実装しやすく、3つのAIが順番に機能を追加しやすい
- **基本機能**:
  - プレイヤー機体の移動（キーボード操作）
  - 敵の出現・移動・攻撃
  - 弾の発射・当たり判定
  - スコアシステム
  - ゲームオーバー・リスタート機能

他のAIの意見をお聞かせください。

## Codex の検討
- Claude案に賛成。縦スクロールシューティングなら段階的に機能追加しやすく、アクション要件も満たせる。
- 最初の1サイクルではプレイヤー移動・単純な敵出現・弾発射までを目標に設定し、以降で難易度調整や演出を積み上げたい。
- Geminiには敵パターンやUI演出の拡張案があれば共有してほしい。

議論の結果、作るものに納得したら自分の行をチェックしてください。3者が納得してから開発を始めてください。

- [x] Claude
- [x] Codex
- [x] Gemini


# 作り方

Web技術で作り、ブラウザで index.html を開くだけで遊べる状態にしてください。
具体的にどのような言語、ライブラリ、フレームワークで作るかは、3者のAIで議論のうえ決めてください。

## Claude の提案
- **基本技術**: HTML5 Canvas + JavaScript（Vanilla JS）
- **理由**:
  - 軽量で追加ライブラリ不要
  - ブラウザで直接実行可能
  - 3つのAIが順番に機能追加しやすい
- **ファイル構成**:
  - `index.html` - メインHTML
  - `game.js` - ゲームロジック
  - `style.css` - スタイル
- **開発方針**: 最小限の構成から始めて段階的に機能追加

他のAIの意見をお聞かせください。

## Codex の検討
- Canvas + Vanilla JS構成で問題なし。外部依存を避けつつ柔軟にロジックを分担できる。
- 初期段階では簡易的なゲームループと描画ユーティリティを`game.js`で用意し、後続のAIが機能を差し込みやすい構造を目指したい。
- GeminiにUIフレームや音響面のアイデアがあれば歓迎。

議論の結果、作り方に納得したら自分の行をチェックしてください。3者が納得してから開発を始めてください。

- [x] Claude
- [x] Codex
- [x] Gemini

# 仕様など

## 現在の仕様メモ（2025-09-22）
- プレイヤー: 矢印キーで移動。初期ライフ3。被弾でライフ-1＋1.5秒の無敵時間。
- 攻撃: `Space`でショット。通常クールダウン200ms、連射強化中は80ms。
- 敵: 直進・ジグザグの2タイプ。経過時間/スコアで出現頻度・速度・ジグザグ率が上昇。
- パワーアップ: 連射強化/シールド/ライフ回復がドロップ。シールド中は接触した敵を破壊。
- スコア&HUD: 撃破+100を加算。左上にスコア/ライフ、アクティブなパワーアップ残時間を表示。
- 背景&演出: 3層パララックス星空＋ダークテーマ。取得効果やサウンドはWeb Audio APIで再生。
- ゲームオーバー: ライフ0または被弾で発生し、Rキーでリスタート可能。

## Gemini の実装 (2025-09-22)
- プレイヤーと敵の衝突時にゲームオーバーになるようにしました。
- ゲームオーバー画面で最終スコアを表示し、「R」キーでリスタートできるようにしました。
- これでゲームの基本的なループが完成しました。

## Claude の実装 (2025-09-22)
- **グラフィック向上**:
  - プレイヤーを三角形の宇宙船風デザインに変更
  - 弾を光る円形エフェクトに変更
  - 敵を六角形（通常）とダイヤ形（ジグザグ）に変更
- **サウンドエフェクト追加**:
  - Web Audio APIを使用した弾発射音
  - 爆発音の実装
  - ユーザー操作で音声初期化
- **新敵タイプ追加**:
  - 通常敵：直進移動（赤色・六角形）
  - ジグザグ敵：左右にジグザグ移動（紫色・ダイヤ形）
  - 敵の70%が通常、30%がジグザグでランダム出現

## 次サイクルで検討してほしいこと (to Codex) ※完了
- [x] パワーアップアイテム（連射強化、ライフ回復、シールドなど）の実装
- [x] 背景スクロールやパーティクルエフェクトの追加
- [x] 難易度調整システム（時間経過で敵の速度・出現頻度が増加）

## Codex の実装 (2025-09-22)
- **パワーアップ&ライフ制**:
  - 敵撃破時に低確率でドロップするアイテム（連射強化・シールド・ライフ回復）を実装。
  - プレイヤーに3ライフと被弾後の無敵時間を追加し、HUDで残ライフと効果時間を確認できるようにした。
- **背景スクロール演出**:
  - 3レイヤーの星空を生成し、パララックス付きでスクロールさせて宇宙空間を演出。
  - UI/背景の配色をダークトーンに刷新して一体感を持たせた。
- **難易度スケーリング**:
  - 経過時間とスコアに応じて敵の出現間隔・移動速度・ジグザグ敵の割合を動的に調整。
  - シールド接触時の敵破壊やアイテム取得によるスコアボーナスなど、プレイフィールを強化。

## 次サイクルで検討してほしいこと (to Gemini)
- パワーアップの視覚/音声フィードバック強化（取得時のSE、シールド中の専用エフェクトなど）。
- ウェーブ制・ミニボス導入やスコア倍率など、ゲーム進行のメリハリを付ける仕組み。
- BGM追加や効果音のミキシング調整、ポーズ機能などプレイアビリティ向上要素。

## Gemini の実装 (2025-09-22)
- **プレイアビリティ向上**:
  - 「P」キーでゲームを一時停止できるポーズ機能を追加しました。
  - Web Audio API を利用して、シンプルなメロディのBGMをプロシージャルに生成・再生するようにしました。
- **フィードバック強化**:
  - パワーアップアイテム取得時に専用のサウンドエフェクトが再生されるようにしました。
  - シールド有効中、プレイヤーの周りにアニメーションするエフェクトを追加し、視覚的に分かりやすくしました。

## 次サイクルで検討してほしいこと (to Claude)
- ゲームの進行にメリハリをつけるため、敵がまとまって出現する「ウェーブ制」を導入してください。
- 数ウェーブごとに、少し耐久力が高く、弾を撃ってくる「中ボス」的な敵を出現させてください。
- 連続で敵を倒すとスコア倍率が上がり、被弾するとリセットされる「スコアコンボ」システムを追加してください。
